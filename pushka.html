<!DOCTYPE html>
<html>
<head>
	<title>
		Обнаружение алмаза Монах
	</title>
	<style>
		canvas{
			border: 1px solid black;
		}
	</style>
</head>
<body>
	<canvas id ='canvasElement' width=600 height=600 style='background-color:#79C1BD'>
	</canvas>
	<div style="display: none;">
		<img id = 'plane'
			src = "plane.png"
		/>
	</div>
	<div style="display: none;">
		<img id = 'enemyPlane'
			src = "enemy-plane.png"
		/>
	</div>
	<pre id='p' style="font-size:25px"></pre>
	<script>
		var textElement = document.getElementById('p');
		var canvasElement = document.getElementById('canvasElement');
		var canvasContext = canvasElement.getContext('2d');
		var planeImg = document.getElementById('plane');
		var enemyPlaneImg = document.getElementById('enemyPlane');
		var gameOver = false;
		var score = 0;
		var plane = {
			x: 300,
			y: 540,
			a: 30,
			b: 80,
			c: 50,
			d: 10,
			color: '#000000',
			draw: function(){
				canvasContext.drawImage(planeImg, this.x - planeImg.width/2, this.y - planeImg.height/2);
			/*
				canvasContext.beginPath();
				canvasContext.moveTo(this.x + this.b/2, this.y + this.a/2);
				canvasContext.lineTo(this.x - this.b/2, this.y + this.a/2);
				canvasContext.lineTo(this.x - this.b/2, this.y - this.a/2);
				canvasContext.lineTo(this.x + this.b/2, this.y - this.a/2);
				canvasContext.closePath();
				canvasContext.fillStyle = this.color;
				canvasContext.strokeStyle = '#000000';
				canvasContext.fill();
				canvasContext.stroke();
				canvasContext.beginPath();
				canvasContext.moveTo(this.x + this.d/2, this.y - this.a/2);
				canvasContext.lineTo(this.x + this.d/2, this.y - this.a/2 - this.c);
				canvasContext.lineTo(this.x - this.d/2, this.y - this.a/2 - this.c);
				canvasContext.lineTo(this.x - this.d/2, this.y - this.a/2);
				canvasContext.lineTo(this.x - this.d/2, this.y - this.a/2);
				canvasContext.fillStyle = this.color;
				canvasContext.strokeStyle = '#000000';
				canvasContext.fill();
				canvasContext.stroke();
			*/
			
			}
		}
		var enemyPlane = {
		
			x: 300,
			y: -50,
			draw: function(){
				canvasContext.drawImage(enemyPlaneImg, this.x - enemyPlaneImg.width/2, this.y - enemyPlaneImg.height/2);
				
			},
			move: function(){
				this.y+=2;
				if	(this.y > canvasElement.height + enemyPlaneImg.height/2){
					this.x = Math.floor(enemyPlaneImg.width/2 + Math.random() * (canvasElement.width - enemyPlaneImg.width));
					this.y = -50;
				}
			}
		}
		function move(e){
			plane.x = e.offsetX;
			plane.y = e.offsetY;
		}
		function iteration(){
			canvasContext.clearRect(0,0, canvasElement.width, canvasElement.height);
			plane.draw();
			enemyPlane.draw();
			enemyPlane.move();
			window.requestAnimationFrame(iteration);
		}
		canvasElement.addEventListener('mousemove', move);
		iteration();
	</script>
</body>